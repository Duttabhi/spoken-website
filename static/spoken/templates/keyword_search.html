{% extends 'spoken/templates/base.html' %}
{% load widget_tweaks %}
{% load static %}
{% load creationdata %}
{% block title %}Search Tutorials{% endblock %}
{% block cssblock %}<link rel="stylesheet" href="{% static 'spoken/css/chosen.min.css' %}" type="text/css" media="screen" charset="utf-8" />{% endblock %}
{% block heading %}
    <i class="fa fa-list-ul"></i> Search Tutorials
{% endblock %}
{% block search %}
{% endblock %}
{% block content %}
    <div class="row">
        <div class='col-lg-offset-2 col-md-offset-2 col-sm-offset-2 col-xs-offset-2 col-lg-8 col-md-8 col-sm-8 col-xs-8'>
            <form class="navbar-form" role="search" action="/keyword-search" method="GET" id="search-form">
                <div class="input-group">
                    <input type="text" class="form-control" placeholder="ex: Linux Oscad" name="q" style="padding:6px 6px;">
                    <div class="input-group-btn">
                        <button class="btn btn-default" type="submit"><i class="glyphicon glyphicon-search"></i></button>
                    </div>
                </div>
            </form>
        </div>
    </div>
    
    <div class='search-result col-lg-12 col-md-12 col-sm-12 col-xs-12'>
        {% if collection %}
            {% for record in collection %}
                <div class='result-record row'>
                    <div class="col-lg-2 col-md-2 col-sm-2 col-xs-2 thumb">
                        <a href="#" class='thumb'><img width="100%" src="/static/spoken/images/thumb-even.png"></a>
                    </div>
                    <div class="info col-lg-8 col-md-8 col-sm-8 col-xs-8">
                        <div class='title'><h3><a href="/watch/{{ record.tutorial_detail.foss.foss|get_url_name }}/{{ record.tutorial_detail.tutorial|get_url_name }}/{{ record.language }}">{{ record.tutorial_detail.tutorial }}</a></h3></div>
                        <div class='desc'>
                                Foss : {{ record.tutorial_detail.foss }}</br>
                                Language : {{ record.language }}</br>
                                Level : {{ record.tutorial_detail.level }}</br>
                                Published on : {{ record.updated }}</br>
                            </dl>
                        </div>
                    </div>
                    <div class="col-lg-2 col-md-2 col-sm-2 col-xs-2">
                        <div class="{{ record.tutorial_detail.level }}"></div>
                    </div>
                </div>
            {% endfor %}
        {% else %}
            <p class='no-record'> No result found!</p>
        {% endif %}
    </div>


{% endblock %}
{% block jsblock %}
    <script src="{% static 'spoken/js/chosen.jquery.min.js' %}"></script>
    <script src="{% static 'spoken/js/events.js' %}"></script>
    <script>
        $("#id_state").change(function(){
            ajaxStrateFillDatas('district', 'city', 'university');
        });
        $('.district').change(function(){
            ajaxDistrictFillDatas('location', '', $(this).val());
        });
    </script>
{% endblock %}

